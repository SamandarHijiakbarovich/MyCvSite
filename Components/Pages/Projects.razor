@page "/projects"
@using MyCvSite.Data

<PageTitle>Loyihalarim | Samandar Mamasoatov</PageTitle>

<div class="projects-page">
    <div class="container py-5">
        <div class="section-header text-center mb-5">
            <h1 class="display-4 fw-bold mb-3 highlight-text">Mening Loyihalarim</h1>
            <p class="lead custom-subtitle">
                .NET va Blazor texnologiyalari yordamida yaratilgan real loyihalar
            </p>
            <div class="header-line"></div>
        </div>

        <div class="row g-4">
            @foreach (var project in projects)
            {
                <div class="col-lg-4 col-md-6 animate__animated animate__fadeInUp">
                    <div class="project-card">
                        <div class="project-image">
                            <img src="@project.ImageUrl" alt="@project.Title"
                                 onerror="this.src='https://via.placeholder.com/400x250/1e293b/ffffff?text=@project.Title'" />
                            <div class="project-overlay">
                                <div class="project-links">
                                    @if (!string.IsNullOrEmpty(project.GithubUrl))
                                    {
                                        <a href="@project.GithubUrl" target="_blank" class="project-link" title="GitHub">
                                            <i class="fab fa-github"></i>
                                        </a>
                                    }
                                    @if (!string.IsNullOrEmpty(project.LiveDemoUrl))
                                    {
                                        <a href="@project.LiveDemoUrl" target="_blank" class="project-link" title="Live Demo">
                                            <i class="fas fa-external-link-alt"></i>
                                        </a>
                                    }
                                </div>
                            </div>
                        </div>

                        <div class="project-content">
                            <h4 class="project-title">@project.Title</h4>
                            <p class="project-description">@project.Description</p>

                            <div class="tech-tags">
                                @foreach (var tech in project.Technologies)
                                {
                                    <span class="tech-tag">@tech</span>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>

        @if (!projects.Any())
        {
            <div class="text-center py-5 no-projects">
                <i class="fas fa-folder-open fa-4x mb-3"></i>
                <h3>Hozircha loyihalar mavjud emas</h3>
                <p>Tez orada yangi loyihalar qo'shiladi</p>
            </div>
        }
    </div>
</div>

<style>
    /* Ranglar palitrasi */
    :root {
        --bg-dark: #0f172a;
        --card-bg: #1e293b;
        --accent-blue: #3b82f6;
        --accent-purple: #8b5cf6;
        --text-main: #f8fafc;
        --text-muted: #94a3b8;
        --border-color: rgba(255, 255, 255, 0.1);
    }

    .projects-page {
        background-color: var(--bg-dark);
        min-height: 100vh;
        color: var(--text-main);
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    /* Sarlavha stili */
    .highlight-text {
        background: linear-gradient(90deg, #3b82f6, #8b5cf6);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        font-size: 3rem;
    }

    .custom-subtitle {
        color: #cbd5e1 !important;
        font-weight: 400;
        max-width: 600px;
        margin: 0 auto;
    }

    .header-line {
        width: 80px;
        height: 4px;
        background: var(--accent-blue);
        margin: 20px auto;
        border-radius: 2px;
    }

    /* Card Dizayni */
    .project-card {
        background: var(--card-bg);
        border-radius: 20px;
        overflow: hidden;
        border: 1px solid var(--border-color);
        height: 100%;
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }

        .project-card:hover {
            transform: translateY(-12px);
            border-color: var(--accent-blue);
            box-shadow: 0 20px 40px rgba(59, 130, 246, 0.2);
        }

    /* Rasm qismi */
    .project-image {
        position: relative;
        height: 220px;
        background: #000;
    }

        .project-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.9;
            transition: 0.5s;
        }

    .project-card:hover .project-image img {
        opacity: 0.4;
        transform: scale(1.05);
    }

    /* Overlay */
    .project-overlay {
        position: absolute;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(15, 23, 42, 0.6);
        opacity: 0;
        transition: 0.3s;
    }

    .project-card:hover .project-overlay {
        opacity: 1;
    }

    .project-link {
        width: 50px;
        height: 50px;
        background: var(--accent-blue);
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
        text-decoration: none;
        transition: 0.3s;
    }

        .project-link:hover {
            background: white;
            color: var(--accent-blue);
            transform: scale(1.2);
        }

    /* Card Kontent */
    .project-content {
        padding: 1.5rem;
    }

    .project-title {
        color: #fff;
        font-size: 1.4rem;
        font-weight: 700;
        margin-bottom: 0.8rem;
    }

    .project-description {
        color: #94a3b8;
        font-size: 0.95rem;
        line-height: 1.6;
        margin-bottom: 1.2rem;
        min-height: 4.8rem; /* Matnlarni bir xil balandlikda ushlab turadi */
    }

    /* Texnologiya teglar */
    .tech-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
    }

    .tech-tag {
        background: rgba(59, 130, 246, 0.1);
        color: #60a5fa;
        padding: 4px 12px;
        border-radius: 8px;
        font-size: 0.75rem;
        font-weight: 600;
        border: 1px solid rgba(59, 130, 246, 0.2);
        text-transform: uppercase;
    }

    .no-projects {
        color: var(--text-muted);
    }

    /* Mobile moslashuv */
    @@media (max-width: 768px) {
        .highlight-text {
            font-size: 2.2rem;
        }

        .project-image {
            height: 180px;
        }
    }
</style>

@code {
    private List<ProjectModel> projects = new List<ProjectModel>();

    protected override void OnInitialized()
    {
        projects = new List<ProjectModel>
        {
            new ProjectModel
            {
                Id = 1,
                Title = "E-Commerce Dashboard",
                Description = "To'liq funksional admin paneli, real vaqtda yangilanishlar va tahliliy hisobotlar tizimi.",
                ImageUrl = "images/OIP.webp",
                Technologies = new[] { "Blazor Server", "C#", "SQL Server", "SignalR" },
                GithubUrl = "https://github.com/samandar/ecommerce",
                LiveDemoUrl = "https://demo.myproject.com"
            },
            new ProjectModel
            {
                Id = 2,
                Title = "RESTful Web API",
                Description = "Yuqori unumdorlikka ega, Clean Architecture asosida qurilgan backend xizmati.",
                ImageUrl = "images/API.webp",
                Technologies = new[] { "ASP.NET Core", "Dapper", "PostgreSQL", "Swagger" },
                GithubUrl = "https://github.com/samandar/api",
                LiveDemoUrl = ""
            },
            new ProjectModel
            {
                Id = 3,
                Title = "Blazor Chat App",
                Description = "SignalR texnologiyasi yordamida real vaqt rejimida ishlovchi messenjer ilovasi.",
                ImageUrl = "images/chatApp.webp",
                Technologies = new[] { "Blazor Wasm", "SignalR", "Azure Functions" },
                GithubUrl = "https://github.com/samandar/chat",
                LiveDemoUrl = "https://chat-app.com"
            },
            new ProjectModel
            {
                Id = 4,
                Title = "Darmon Platform",
                Description = "Pharmacy delivery system with secure payment and role-based access management.",
                ImageUrl = "images/Darmon.jpg",
                Technologies = new[] { "ASP.NET Core", "EF Core", "JWT", "Click API" },
                GithubUrl = "https://github.com/SamandarHijiakbarovich/Darmon",
                LiveDemoUrl = ""
            }
        };
    }

    // Agar ProjectModel klassingiz boshqa joyda bo'lsa buni o'chirib tashlang
    public class ProjectModel
    {
        public int Id { get; set; }
        public string Title { get; set; } = "";
        public string Description { get; set; } = "";
        public string ImageUrl { get; set; } = "";
        public string[] Technologies { get; set; } = new string[0];
        public string GithubUrl { get; set; } = "";
        public string LiveDemoUrl { get; set; } = "";
    }
}